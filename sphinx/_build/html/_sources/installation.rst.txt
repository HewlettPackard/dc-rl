============
Installation
============

DCRL-Green enables data center simulation framework hosted using OpenAI Gym. The framework is self-contained but allows for the integration of other co-simulation models such as EnergyPlus :cite:p:`crawley2000energy` through a plug-in interface.

Dependencies
------------

1. Python_ 
    Python version 3.x is recommended.

.. _Python: https://python.land/installing-python

2. Docker_
    We include a Dockerfile for installing and setting up the image for running Sinergym_ :cite:p:`2021sinergym`.

.. _Sinergym: https://ugr-sail.github.io/sinergym/compilation/main/index.html
.. _Docker: https://docs.docker.com/get-docker/

3. TensorBoard_ 
    DCRL-Green uses `Ray RLlib <ray>`_  to execute reinforcement learning algorithms. By default, RLlib logs results in Tensorboard. 
    RLlib does not automatically install a deep-learning framework, but supports TensorFlow (both 1.x with static-graph and 2.x with eager mode) as well as PyTorch. Depending on your needs, make sure to install either TensorFlow or PyTorch (or both).

.. _ray: https://docs.ray.io/en/latest/rllib/index.html
.. _TensorBoard: https://pypi.org/project/tensorboard/

First-time setup
----------------

Clone the latest DCRL-green version from github using:

.. code-block:: bash
    
    git clone https://github.com/HewlettPackard/dc-rl.git

Pull the Docker image with command:

.. code-block:: bash
    
    sudo docker pull agnprz/carbon_sustain:v3

A docker container can be launched using the command:

(Note: start by navigating to the directory :code:`dc-rl`)

.. code-block:: console

   sudo docker run -t -i -v ./:/sinergym/dc-rl --shm-size=10.24gb agnprz/carbon_sustain:v3
